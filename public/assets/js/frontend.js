function callReconfigure(e){bKash.reconfigure(e)}function clickPayButton(){$("#bKash_button").length>0&&$("#bKash_button").trigger("click")}!function(e){"use strict";var t,a=null,o=null,n={current_step:0,current_form_serialize_data:null,current_form_serialize_array_data:[]},i=e('[name="od_biodata_edit_form"]'),s=[],d=!1,r=!1,l="",c="",p=i.find(".od-biodata-form-content.active"),f={biodata_purchase_action:!1,biodata_search_with_ajax:!1},u=[],h=0,m=!1,g="";let v={name:null,gender:null,email:null,mobile_number:null,mobile_code:null,password:null,password_confirmation:null,a_type:null},b={email:null,mobile_number:null,mobile_code:null,password:null,confirm_password:null};e("body").on("contextmenu",function(e){return!1}),e("body").bind("cut copy",function(e){e.preventDefault()}),e("#default_data").length>0&&(a=JSON.parse(document.getElementById("default_data").innerHTML)),e("#frontend_lang_data").length>0&&(o=JSON.parse(document.getElementById("frontend_lang_data").innerHTML)),e("#json__shortlist").length>0&&(t=JSON.parse(document.getElementById("json__shortlist").innerHTML)),e("#json__ignorelist").length>0&&(u=JSON.parse(document.getElementById("json__ignorelist").innerHTML)),e("#page_type").length>0&&(l=e("#page_type").val()),e("#biodata_status").length>0&&(g=e("#biodata_status").val());var y=()=>[{name:"NOT_CREATED",label:"Not Created"},{name:"INCOMPLETE",label:"Incomplete"},{name:"NOT_PUBLISHED",label:"Not Submitted"},{name:"IN_REVIEW",label:"In Review"},{name:"APPROVED",label:"Approved"},{name:"HIDDEN",label:"Hidden"},{name:"NOT_APPROVED",label:"Not Approved"}];let w=e=>e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"");e(".od-biodata-gender-field").length>0&&e(".od-biodata-gender-field").each(function(){var t=e(this).find(":selected").text();""==e(this).val()?e(this).parents(".od-custom-drop_down_select_box").find(".od-hf-ref-gender").val(""):e(this).parents(".od-custom-drop_down_select_box").find(".od-hf-ref-gender").val(t)}),e(".od-biodata-submit-user-account").length>0&&e(".od-biodata-submit-user-account").on("click",function(t){t.preventDefault(),e(this).off(),e(this).css({cursor:"default"}),e.ajax({url:a.base_url+"/ajax/change_biodata_status_by_user",type:"POST",data:{status:"IN_REVIEW"},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(e){"success"==e.status&&(localStorage.setItem("biodataSubmitStatus","submitted"),window.location.href="/user/account/dashboard")}})});var k=()=>{e(".od-close-modal").length>0&&e(".od-close-modal").off(),e(".od-move-to-biodata-preview").length>0&&e(".od-move-to-biodata-preview").off()};if(e("#user_page_type").length>0&&"user_dashboard"===e("#user_page_type").val()){var x=localStorage.getItem("biodataSubmitStatus");void 0!==x&&"submitted"===x&&(e(".od-close-modal").length>0&&e(".od-close-modal").on("click",function(){e("#odSubmittedModal").hide(),k();var t=localStorage.getItem("biodataSubmitStatus");void 0!==t&&"submitted"===t&&localStorage.removeItem("biodataSubmitStatus")}),e(".od-move-to-biodata-preview").length>0&&e(".od-move-to-biodata-preview").on("click",function(){var e=localStorage.getItem("biodataSubmitStatus");void 0!==e&&"submitted"===e&&localStorage.removeItem("biodataSubmitStatus"),k(),window.location.href="/user/account/preview-biodata"}),setTimeout(()=>{e("#odSubmittedModal").show()},500))}var C=function(e){if(t.length>0)return -1!==t.indexOf(e)},T=0,_=setInterval(function(){T>2?clearInterval(_):(T++,e(".od-biodata-shortlist-link").each(function(o,n){let i=e(this).data("user_id");t.length>0&&-1!==t.indexOf(i)&&(e(".od-biodata-shortlist").css("pointer-events","unset"),e(this).attr({class:"od-biodata-shortlist-link biodata-shortlist-icon"}),e(this).find("img").attr({src:a.base_url+"/images/short_lists.png"}))}))},1e3),D=function(e){if(u.length>0)return -1!==u.indexOf(e)};i.length>0&&(n.current_step=i.find(".form-content.active").data("step")),(e(".select2").length>0||e(".od-biodata-sorting").length>0)&&e(".select2, .od-biodata-sorting").select2({placeholder:"Please select"});var S=null,O=function(t,a){var o=e.trim(t.term);if(null!=S){var n=e("#select2-"+S+"-results");o?n.length>0&&!n.hasClass("has-user-input-tag")&&n.addClass("has-user-input-tag"):n.hasClass("has-user-input-tag")&&n.removeClass("has-user-input-tag")}return""===o?null:{id:o,text:o,newTag:!0}},E=function(){i.find(".form-content-"+n.current_step+" .od-hf-multiple-tags").length>0&&i.find(".form-content-"+n.current_step+" .od-hf-multiple-tags").each(function(){var t=e(this).attr("name");t&&(t=t.split("_")).length>0&&parseInt(t[1])>0&&(i.find(".form-content-"+n.current_step+" .od-conditional-field-id-"+t[1]).removeClass("multitag-conditional-field"),i.find(".form-content-"+n.current_step+" .od-conditional-field-id-"+t[1]).removeAttr("data-visibility"),i.find(".form-content-"+n.current_step+" .od-conditional-field-id-"+t[1]).hide())}),i.find(".form-content-"+n.current_step+" .od-hf-multiple-tags").length>0&&i.find(".form-content-"+n.current_step+" .od-hf-multiple-tags").each(function(){var t=e(this).val();if(t||null!=t){var a=t.split(",");if(a.length>0){for(var o=0;o<a.length;o++)if(a[o]&&parseInt(a[o])>0){var s=i.find(".form-content-"+n.current_step+" .od-conditional-field-"+e.trim(a[o]));s&&(s.addClass("multitag-conditional-field"),s.attr("data-visibility","yes"),s.show())}}}}),Y()};e(".od-hf-multiple-tags").length>0&&e(".od-hf-multiple-tags").each(function(){var t=e(this).val(),a=[],o=[],n=!1;if(1==e(this).parents(".od-custom-drop_down_select_box").find(".od-multitag-enable").data("has_user_input_access")&&(n=!0),t&&(a=t.split(", ")).length>0)for(var i=0;i<a.length;i++)o.push({id:a[i],text:a[i]});e(this).parents(".od-custom-drop_down_select_box").find("#multiple_tags_"+e(this).attr("name")).select2({tags:n,data:o,createTag:O,closeOnSelect:!1,placeholder:e(this).data("placeholder")}).on("select2:select select2:unselect",function(t){var a=e(this);null!=a.val()?a.parents(".od-custom-drop_down_select_box").find(".od-hf-multiple-tags").val(a.val().join(", ")):a.parents(".od-custom-drop_down_select_box").find(".od-hf-multiple-tags").val(""),a.parents(".od-custom-drop_down_select_box").find('input[type="search"]').val(""),E()}).on("select2:open",function(t){n&&(S=e(this).attr("id"))}).on("select2:close",function(e){S=null}).on("change",function(t){var a=e(this);a.val()&&a.val().length==e(this).data("maximum-selection-length")&&a.select2("close")}),e(this).parents(".od-custom-drop_down_select_box").find(".od-multitag-enable").val(a).change()}),e("#scrollUp").click(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});let j=document.getElementById("scrollUp");window.onscroll=function(){R()};var R=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?j.style.display="block":j.style.display="none"};e(".od-accordion").length>0&&e(".od-accordion .od-group a.od-accordion-link").on("click",function(t){t.preventDefault(),e(this).closest(".od-accordion").hasClass("active")?(e(this).closest(".od-accordion").removeClass("active"),e(this).closest(".od-accordion").find(".od-body-part").slideUp()):(e(".od-accordion").removeClass("active"),e(".od-accordion").find(".od-body-part").slideUp(),e(this).closest(".od-accordion").addClass("active"),e(this).closest(".od-accordion").find(".od-body-part").slideDown())}),e(".od-btn-manual").length>0&&e(".od-btn-manual").on("click",function(t){t.preventDefault(),e(".od-manually-panel").slideToggle().toggleClass("od-opened"),!0==e(".od-manually-panel").hasClass("od-opened")?(e(".od-btn-manual .od-angle-open").hide(),e(".od-btn-manual .od-angle-close").show()):(e(".od-btn-manual .od-angle-open").show(),e(".od-btn-manual .od-angle-close").hide())});var B=!1,I=null,N=null,P=0,L=!1,F=!1;window.addEventListener("DOMContentLoaded",function(){if(e("#od_completed_nav_step").length>0&&(P=parseInt(e("#od_completed_nav_step").val()))>0){var t=i.find(".form-content-"+n.current_step).find("select, textarea, input").not("input.od-location-checkbox:checkbox");n.current_form_serialize_data=t.serialize(),n.current_form_serialize_array_data=t.serializeArray(),B=!0}});var q=function(e){var t=e.split("&"),a={};if(t.length>0)for(var o in t)a[t[o].split("=")[0]]=t[o].split("=")[1];return a},A=function(t){if(i.length>0){var a=q(t);a&&e.each(a,function(t,o){if(o=o.replace(/\+/g,"%20"),i.find('[name="'+t+'"]').hasClass("od-field-type__textbox")||i.find('[name="'+t+'"]').hasClass("od-field-type__multiline")||i.find('[name="'+t+'"]').hasClass("od-field-type__email")||i.find('[name="'+t+'"]').hasClass("od-field-type__tel")||i.find('[name="'+t+'"]').hasClass("od-field-type__datepicker"))i.find('[name="'+t+'"]').val(decodeURIComponent(o)),i.find('[name="'+t+'"]').hasClass("od-field-type__tel")&&i.find('[name="'+t+'"]').parent(".od-form-group-input").find("#"+t+"-error").hide();else if(i.find('[name="'+t+'"]').hasClass("od-field-type__selectbox"))i.find('[name="'+t+'"]').select2("val",o);else if(i.find('[id="multiple_tags_'+t+'"]').hasClass("od-multitag-enable")){o=decodeURIComponent(o),i.find('[id="multiple_tags_'+t+'"]').parents(".od-custom-drop_down_select_box").find(".od-hf-multiple-tags").val(o);var n=[];o&&(n=o.split(", ")),i.find('[id="multiple_tags_'+t+'"]').val(n).change()}else if(i.find('[id="od_range_slider_'+t+'"]').hasClass("od-range-slider")){var s=0,d=i.find('[id="od_range_slider_'+t+'"]').data("from"),r=i.find('[id="od_range_slider_'+t+'"]').data("to"),l=i.find('[id="od_range_slider_'+t+'"]').data("type");if(l&&"double"==l){var c=o.split("-");s=(d=c[0])+"-"+(r=c[1])}else s=d=o;e("#od_range_slider_"+t).ionRangeSlider();e("#od_range_slider_"+t).data("ionRangeSlider").update({from:d,to:r}),i.find('[id="od_range_slider_'+t+'"]').parents(".od-custom-range_slider").find(".od-hf-range-slider-value").val(s)}else if(i.find('[name="'+t+'"]').hasClass("od-hf-ref-location")){i.find('[name="'+t+'"]').val(o);var p=!1;1==o&&(p=!0),i.find('[name="'+t+'"]').parents(".od-location-checkbox-container").find(".od-location-checkbox").prop("checked",p),i.find('[name="'+t+'"]').parents(".od-location-checkbox-container").find(".od-location-checkbox").trigger("change")}else if(i.find('[name="'+t+'"]').hasClass("od-field-type__location")){if(o){var f=decodeURIComponent(o),u="";u+='<a href="javascript:void(0);" class="od-location-dropdown-trigger-close">',u+='<div class="od-display-flex od-width-100">',u+='<div class="od-selected-location"></div>',u+='<div class="od-remove-selected-location"><i class="fa fa-times"></i></div>',u+="</div>",u+="</a>",i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-dropdown-trigger").hide(),0==i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-dropdown-trigger-close").length&&e(u).insertAfter(i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-dropdown-trigger")),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-dropdown-trigger-close .od-selected-location").text(f),i.find('[name="'+t+'"]').val(f);var h=t.split("_")[1];i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-area-text-input").val(a.locationExtraField_+""+h),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-area-text-input").show(),H()}else i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-hf-selected-location").val(""),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-area-text-input").hide(),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-panel-wrap").not(":first").remove(),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-dropdown-trigger").show(),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-overlay").remove(),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".selected").removeClass("selected"),i.find('[name="'+t+'"]').parents(".od-location-dropdown").find(".od-location-dropdown-trigger-close").remove()}})}};e(".odd-biodata-nav-item").length>0&&e(".odd-biodata-nav-item a").off().on("click",function(t){if(t.preventDefault(),e(this).parent().hasClass("disabled"))return!1;N=e(this).data("toggle-target"),B||(n.current_form_serialize_data=null);var a=null;if(null!=n.current_form_serialize_data&&(a=i.find(".form-content-"+n.current_step).find("select, textarea, input").not("input.od-location-checkbox:checkbox").serialize()),null!=a&&I!=e(this).data("toggle-target")){if(n.current_form_serialize_data!=a&&!1==m)return swal({title:o.unsave_message,text:o.confirm_unsave_message,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.save_btn_label,cancelButtonText:o.modal_popup.discard_btn_label,closeOnConfirm:!1,closeOnCancel:!1},function(t){t?(n.current_form_serialize_data=null,B=!1,i.find('input[type="submit"]')[0].click()):(A(n.current_form_serialize_data),e('.odd-biodata-nav [data-toggle-target="'+N+'"]').parent().removeClass("disabled"),e('.odd-biodata-nav [data-toggle-target="'+N+'"]').trigger("click")),swal.close()}),!1;if(m=!1,null!=I){var s=I.split(".form-content-");s.length>0&&P>=s[1]&&e(".odd-biodata-nav").find('[data-toggle-target="'+I+'"]').parent(".odd-biodata-nav-item").addClass("completed")}n.current_form_serialize_data=null,B=!1}null==I&&e(".odd-biodata-nav").find('[data-toggle-target=".form-content-1"]').parent(".odd-biodata-nav-item").addClass("completed"),e(".odd-biodata-nav-item").removeClass("active"),e(this).parent().addClass("active");var d=this.getAttribute("data-toggle-target");if(e(".form-content").removeClass("active").filter(d).addClass("active"),n.current_step=i.find(".form-content.active").data("step"),e(this).parent(".odd-biodata-nav-item").hasClass("completed")&&e(this).parent(".odd-biodata-nav-item").removeClass("completed"),null==n.current_form_serialize_data){var r=i.find(".form-content-"+n.current_step).find("select, textarea, input").not("input.od-location-checkbox:checkbox");setTimeout(()=>{n.current_form_serialize_data=r.serialize(),n.current_form_serialize_array_data=r.serializeArray()},100),B=!0}I=e(this).data("toggle-target"),Y(),Z(),p=i.find(".od-biodata-form-content.active"),ep(),E(),e(".od-biodata-pagination-next-container").find(".od-button").val("Save & Next"),e(".odd-biodata-nav ul li").length==n.current_step&&e(".od-biodata-pagination-next-container").length>0&&e(".od-biodata-pagination-next-container").find(".od-button").val("Save & Submit"),M()}),e(".odd-sidebar a.sidebar-trigger").on("click",function(t){t.preventDefault(),e(".odd-sidebar, .odd-content").toggleClass("side-inactive"),t.stopPropagation()}),e(".odd-delete-bio label input").on("click",function(t){e(".odd-delete-bio-button").toggleClass("disabled"),t.stopPropagation()}),e(".od-mobile-menu-trigger a").on("click",function(t){t.preventDefault(),e("nav.menu-lists-container, .odd-content").toggleClass("active"),e(".odd-sidebar, .odd-content").removeClass("side-inactive"),t.stopPropagation()});var K=function(){e(".od-mob-filter-trigger a").on("click",function(t){t.preventDefault(),e(".od-biodatas-sidebar, .od-biodatas-container").addClass("filter-open"),t.stopPropagation()})};K(),e(".od-biodatas-sidebar-filter-top a").on("click",function(t){t.preventDefault(),e(".od-biodatas-sidebar, .od-biodatas-container").removeClass("filter-open"),t.stopPropagation()}),e(document).on("click",function(t){e(t.target).closest(".od-biodatas-sidebar").length||e(".od-biodatas-sidebar, .od-biodatas-container").removeClass("filter-open"),e(t.target).closest(".odd-sidebar").length||e(".odd-sidebar, .odd-content").removeClass("side-inactive"),e(t.target).closest("nav.menu-lists-container").length||e("nav.menu-lists-container, .odd-content").removeClass("active")});var z=0;e(window).scroll(function(){var t=e(window).scrollTop();t>z||t<=100?e(".od-search-filters").removeClass("fixedTop"):e(".od-search-filters").addClass("fixedTop"),z=t});var M=function(){setTimeout(()=>{if(e(".odd-mobile-nav-head").length>0){var t=i.find(".od-biodata-form-content").length,a=parseInt(i.find(".od-biodata-form-content.active").next().data("step"))-1;e(".odd-mobile-nav-head").find("h2").text(i.find(".od-biodata-form-content.active .oddb-title h2").text()),e.isNumeric(t)&&t!=e.isNumeric(a)&&a?(e(".odd-mobile-nav-head").find("h3 span").text(i.find(".od-biodata-form-content.active").next().find(".oddb-title h2").text()),e(".odd-mobile-nav-head").find("h3").css({display:"block"})):(e(".odd-mobile-nav-head").find("h3 span").text(""),e(".odd-mobile-nav-head").find("h3").css({display:"none"}))}},300)};M();var X=function(){e(".od-location-dropdown").length>0&&e(".od-location-dropdown").each(function(){var t=e(this);t.find(".od-location-panel-wrap").not(":first").remove(),t.find(".od-overlay").remove(),t.find(".selected").removeClass("selected"),t.find(".od-location-panel-wrap.active:last").slideToggle().removeClass("active")})},H=function(){e(".od-remove-selected-location").off().on("click",function(t){t.preventDefault();var a=e(this);a.parents(".od-location-dropdown").find(".od-hf-selected-location").val(""),a.parents(".od-location-dropdown").find(".od-area-text-input").attr("required",!1),a.parents(".od-location-dropdown").find(".od-area-text-input").val(""),a.parents(".od-location-dropdown").find(".od-area-text-input").hide(),a.parents(".od-location-dropdown").find(".od-location-panel-wrap").not(":first").remove(),a.parents(".od-location-dropdown").find(".od-location-dropdown-trigger").show(),a.parents(".od-location-dropdown").find(".od-overlay").remove(),a.parents(".od-location-dropdown").find(".selected").removeClass("selected"),a.parents(".od-location-dropdown").find(".od-location-dropdown-trigger-close").remove()})};H();var V=function(){e(".od-location-picker-previous").length>0&&e(".od-location-picker-previous").off().on("click",function(t){t.preventDefault(),e(this).parents(".od-location-dropdown").find(".od-overlay").remove(),e(this).parents(".od-location-panel-wrap").prev(".od-location-panel-wrap").slideToggle().addClass("active"),e(this).parents("#"+e(this).data("random_id")).hide(),e(this).parents("#"+e(this).data("random_id")).addClass("cloned"),e(this).parents("#"+e(this).data("random_id")).removeClass("active")})},U=function(){e(".location-search").length>0&&e(".location-search").off().on("keyup",function(){var t,a;t=e(this).val().toUpperCase(),(a=e(this).parents(".od-location-panel-wrap").find(".odl-nav a")).length>0&&a.each(function(){e(this).text().toUpperCase().indexOf(t)>-1?e(this).parent("li").show():e(this).parent("li").hide()})})};U();var W=function(){e(".od-search-parent-item").length>0&&e(".od-search-parent-item").off().on("click",function(t){if(t.preventDefault(),J(e(this).parents(".od-location-panel-wrap").prev(".od-location-panel-wrap").attr("data-parent_name"),e(this)),e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap.active:last").slideToggle().removeClass("active"),d&&"biodata_search"==l){var a=e(this).parents(".od-location-panel-wrap").prev(".od-location-panel-wrap").attr("data-parent_name");c=a.replace(/, \s*$/,""),e(this).parents(".od-location-dropdown").find(".od-hf-selected-location").val(c)}if(d&&"home"==l){var a=e(this).parents(".od-location-panel-wrap").prev(".od-location-panel-wrap").attr("data-parent_name");c=a.replace(/, \s*$/,"")}e(this).parents(".od-location-dropdown").find(".od-selected-location").attr("data-target",e(this).parents(".od-biodata-search-control").find(".od-location-panel-wrap:last .location-search").data("target"))})},G=function(t,o,n,i,s){var d=null;e("#current_page_name").length>0&&(d=e("#current_page_name").val()),e.ajax({url:a.base_url+"/ajax/get_location_data",type:"GET",data:{country_name:o,handle:n,total_index:i,current_index:s,lang:e("html").attr("lang"),generateRandomInteger:Math.random().toString(16).slice(2)+new Date().getTime()+Math.random().toString(16).slice(2),current_page:d},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){"success"==a.status&&(t.parents(".od-location-dropdown").find(".od-location-panel-wrap.active").slideToggle().removeClass("active"),t.parents(".od-location-dropdown").find(".od-location-panel-wrap:last").after(a.html),t.parents(".od-location-dropdown").find(".od-location-panel-wrap:last").slideToggle().addClass("active"),Q(),e(".od-location-panel-wrap").length>0&&e(".od-location-panel-wrap").off().on("click",function(e){e.stopPropagation()}),V(),U(),W())}})};e(".od-location-dropdown-trigger").length>0&&e(".od-location-dropdown-trigger").on("click",function(t){t.preventDefault(),t.stopPropagation(),X(),e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap:first").slideToggle().addClass("active")}),e(".od-location-dropdown .od-location-panel-wrap .od-close-panel").length>0&&e(".od-location-dropdown .od-location-panel-wrap .od-close-panel").on("click",function(t){t.preventDefault(),t.stopPropagation(),e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap.active:last").slideToggle().removeClass("active")});var J=function(e,t){var a="";a+='<a href="javascript:void(0);" class="od-location-dropdown-trigger-close">',a+='<div class="od-display-flex od-width-100">',a+='<div class="od-selected-location">'+e+"</div>",a+='<div class="od-remove-selected-location"><i class="fa fa-times"></i></div>',a+="</div>",(a+="</a>")&&(t.parents(".od-location-dropdown").find(".od-location-dropdown-trigger").hide(),t.parents(".od-location-dropdown").find(".od-location-dropdown-trigger").after(a),H())},Q=function(){e(".od-location-dropdown .odl-nav").length>0&&e(".od-location-dropdown .odl-nav a").off().on("click",function(t){t.preventDefault(),t.stopPropagation(),e("#current_page_name").length>0&&"search_page"==e("#current_page_name").val()&&(d=!0),e(this).parents(".od-location-dropdown").find(".cloned").length>0&&e(this).parents(".od-location-dropdown").find(".cloned").remove();var a=e(this).parents(".odl-nav").find(".selected");a.length>0&&a.removeClass("selected"),e(this).addClass("selected");var o="";if("no"==e(this).data("has_index")?e(e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap").get().reverse()).each(function(){o+=e(this).find(".odl-nav .selected").data("name")+", "}):(d&&e(this).parents(".od-location-panel-wrap").attr("data-parent_name",e(this).data("name")),G(e(this),e(this).data("country_name"),e(this).data("handle"),e(this).data("total_index"),e(this).data("current_index"))),o&&!d){if((o=o.replace(/, \s*$/,"")).toLowerCase().includes("undefined"))return e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap.active:last").slideToggle().removeClass("active"),!1;J(o,e(this));var n=e(this).parents(".od-location-dropdown").find(".od-hf-selected-location").attr("id").split("_")[1];e(this).parents(".od-location-dropdown").find(".od-hf-selected-location").val(o),e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap.active:last").slideToggle().removeClass("active"),e("#current_page_name").length>0&&"edit_biodata_page"==e("#current_page_name").val()&&(e(this).parents(".od-location-dropdown").find('[name="locationExtraField_'+n+'"]').attr("required",!0),e(this).parents(".od-location-dropdown").find('[name="locationExtraField_'+n+'"]').show())}else o&&(c=o.replace(/, \s*$/,""),e(this).parents(".od-location-dropdown").find(".od-hf-selected-location").val(c));d&&"no"==e(this).data("has_index")&&(J(e(this).data("name"),e(this)),e(this).parents(".od-location-dropdown").find(".od-location-panel-wrap.active:last").slideToggle().removeClass("active"))})};Q(),e("body").on("click",function(){X()}),e(".od-location-panel-wrap").length>0&&e(".od-location-panel-wrap").off().on("click",function(e){e.stopPropagation()});var Y=function(){var t=e.data(i.get(0),"validator").settings;if(t)for(var a in t.rules)delete t.rules[a].required;ed()},Z=function(){i.find('[data-step="'+n.current_step+'"]').prev().hasClass("form-content")?e(".od-biodata-pagination").find(".od-btn-disabled").removeClass("od-btn-disabled"):e(".od-biodata-pagination").find(".od-form-previous-step").addClass("od-btn-disabled")},ee=function(t){if(e(".odd-biodata-nav ul").find(".completed").removeClass("completed"),e(".odd-biodata-nav ul").find(".active").removeClass("active"),P>0)for(var a=1;a<=P;a++)e(".odd-biodata-nav ul").find('[data-toggle-target=".form-content-'+a+'"]').parent(".odd-biodata-nav-item").addClass("completed");if("nav_switching"==t)e('.odd-biodata-nav [data-toggle-target="'+N+'"]').trigger("click");else{var o=e(".odd-biodata-nav").find('[data-toggle-target=".form-content-'+n.current_step+'"]').parent(".odd-biodata-nav-item").next().find(".odd-biodata-nav-link").data("toggle-target");0==P&&e('.odd-biodata-nav [data-toggle-target="'+o+'"]').parent().prev().removeClass("active").addClass("completed"),e('.odd-biodata-nav [data-toggle-target="'+o+'"]').parent().hasClass("disabled")&&e('.odd-biodata-nav [data-toggle-target="'+o+'"]').parent().removeClass("disabled"),e('.odd-biodata-nav [data-toggle-target="'+o+'"]').trigger("click")}n.current_step=i.find(".form-content.active").data("step"),Y(),Z()},et=function(){e(".od-location-checkbox").length>0&&e(".od-location-checkbox").each(function(){if(e(this).is(":checked")){var t=e("#field_"+e(this).data("target_id")).val(),a=e("input[name='locationExtraField_"+e(this).data("target_id")+"']").val();t&&e("#field_"+e(this).data("field_id")).val(t),a&&e("input[name='locationExtraField_"+e(this).data("field_id")+"']").val(a)}})},ea=function(){e(".od-biodata-pagination-next-container").find(".od-loader-small").length>0&&e(".od-biodata-pagination-next-container").find(".od-loader-small").remove(),e('.odd-biodata-nav-item a, .od-biodata-pagination input[type="submit"]').removeAttr("style")},eo=function(e){return e.find(".od-form-group-label label").text().replace(" *","").trim()},en=t=>{let a=e("#submittedConfirmationModal");a.show(),e(".od-place-submit").on("click",()=>{a.hide(),t(!0)}),e(".od-submit-later").on("click",()=>{a.hide(),t(!1)})},ei=function(t){var s=e(".odd-biodata-nav ul li").length,d=null;if(d=er(),s==n.current_step&&d){var r=d.split("###");if(r.length>0)return m=!0,e.toast({type:"error",autoDismiss:!0,message:o.required_field_message+":  <br/> -- "+r[0]}),e(".odd-biodata-nav").find("[data-toggle-target='.form-content-"+r[1]+"']")[0].click(),!1}et(),e('.odd-biodata-nav-item a, .od-biodata-pagination input[type="submit"]').css({"pointer-events":"none"}),e('.odd-biodata-nav-item a, .od-biodata-pagination input[type="submit"]').css({cursor:"not-allowed"}),e(".od-biodata-pagination-next-container").length>0&&e(".od-biodata-pagination-next-container").append('<div class="od-loader-small"></div>');var l=i.find(".form-content-"+n.current_step).find("select, textarea, input").not("input.od-location-checkbox:checkbox").serialize(),c=[],p=i.find(".form-content-"+n.current_step).find(".od-biodata-conditional-field-track, .multitag-conditional-field");if(p.length>0)for(var f=0;f<p.length;f++){var u=0;e(p[f]).attr("data-visibility")&&"yes"==e(p[f]).attr("data-visibility")&&(u=1),c.push({field_id:e(p[f]).data("field_id"),visibility:u})}var h=[],v=i.find(".form-content-"+n.current_step+".active").find(".required-field");v.length>0&&v.each(function(){if("block"==e(this).css("display")){var t=eo(e(this));0==e(this).find(".od-hf-upload-image").length&&h.push({field_title:t,field_id:"field_"+e(this).data("field_id")}),e(this).find(".od-hf-ref-gender").length>0?h.push({field_title:t,field_id:e(this).find(".od-hf-ref-gender").attr("name")}):e(this).find(".od-area-text-input").length>0?h.push({field_title:e(this).find(".od-area-text-input").attr("placeholder"),field_id:e(this).find(".od-area-text-input").attr("name")}):e(this).find(".od-hf-upload-image").length>0&&h.push({field_title:t,field_id:e(this).find(".od-hf-upload-image").attr("name")})}});let b={currentTabData:l,current_step:n.current_step,currentConditionalFields:JSON.stringify(c),totalTabCount:e(".odd-biodata-nav ul li").length,required_fields:JSON.stringify(h),required_fields_data:d,is_last_step:L,group_id:i.find(".form-content-"+n.current_step).find("#group_id").val()};e.ajax({url:a.base_url+"/ajax/update_biodata_form_data",type:"POST",data:b,dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},beforeSend:function(t){F&&(this.data+="&"+e.param({wantsBiodataSubmit:!0}))},success:function(a){if("success"==a.status){if(g=a.biodata_status,e("#od_completed_nav_step").length>0&&n.current_step>P&&(P=n.current_step),ee(t),window.scrollTo({top:0,behavior:"smooth"}),e.toast({type:"success",autoDismiss:!0,message:o.profile_data_update_message}),L&&""==d&&"IN_REVIEW"!=g&&e("#od_preview_url").length>0&&(window.location.href=e("#od_preview_url").val()),L&&""==d&&"IN_REVIEW"===g&&(localStorage.setItem("biodataSubmitStatus","submitted"),window.location.href="/user/account/dashboard"),ea(),e(".odd-bio-status-wrap").length>0){var i="";y().map(e=>{if(e.name===g){i=e.label;return}}),e(".odd-bio-status-wrap .odd-bio-status span, .od-status-top-on-nav span").html(i),e(".odd-bio-status-wrap .odd-bio-status span, .od-status-top-on-nav span").removeClass(),e(".odd-bio-status-wrap .odd-bio-status span, .od-status-top-on-nav span").addClass("od-"+w(g)),e(".odd-bio-status-wrap .odd-bio-status-trigger").length>0&&e(".odd-bio-status-wrap .odd-bio-status-trigger").remove()}}else window.scrollTo({top:0,behavior:"smooth"}),e.toast({type:"error",autoDismiss:!0,message:o.required_field_message+": <br/>"+a.message}),ea()}})};i.length>0&&i.validate({ignore:"not:hidden",submitHandler:function(t){if(i.find(".form-content-"+n.current_step).find("select, textarea, input").not("input.od-location-checkbox:checkbox").serialize()===n.current_form_serialize_data&&(P==n.current_step||P>n.current_step)&&"NOT_PUBLISHED"!=g){var a=e(".odd-biodata-nav ul li").length,o=er();a==n.current_step&&e("#od_preview_url").length>0&&""==o?window.location.href=e("#od_preview_url").val():L?en(e=>{e?(F=!0,ei("regular")):(F=!1,ei("regular"))}):ei("regular")}else e(".odd-biodata-nav ul li").length==n.current_step&&(L=!0),L?en(e=>{e?(F=!0,ei("regular")):(F=!1,ei("regular"))}):ei("regular"),n.current_form_serialize_data=null;M()},invalidHandler:function(t,a){var o="";for(var n in e(".odd-biodata-nav ul li:last").find("a").data("toggle-target"),a.errorMap){o=n;break}var s=i.find("[name='"+o+"']").parents(".od-biodata-form-content").data("step");e(".odd-biodata-nav").find("[data-toggle-target='.form-content-"+s+"']")[0].click()}}),e.validator.addMethod("customphone",function(e,t){return this.optional(t)||/^(?:\+88|88)?(01[3-9]\d{8})$/.test(e)},o.valid_phone_number_message),e.validator.addMethod("minDate",function(e,t){var a=e.split("/"),o=a[1]+"/"+a[0]+"/"+a[2],n=new Date,i=new Date(o);return this.optional(t)||n>=i},o.min_date_message);var es=function(t,a){var o;if(null==t)return!1;void 0!==(o=t.attr("id"))&&(t.hasClass("od-range-slider")?e("#"+o).parents(".required-field").find(".od-hf-range-slider-value").rules("add",a):t.hasClass("od-multitag-enable")?e("#"+o).parents(".required-field").find(".od-hf-multiple-tags").rules("add",a):e("#"+o).rules("add",a))};e(".od-field-type__datepicker").length>0&&es(e(".od-field-type__datepicker"),{minDate:!0});var ed=function(){i.length>0&&i.find(".form-content-"+n.current_step+" .required-field").length>0&&i.find(".form-content-"+n.current_step+" .required-field").each(function(){e(this).attr("data-visibility")&&"yes"==e(this).attr("data-visibility")&&(e(this).find('input[type="text"]')&&es(e(this).find('input[type="text"]:not(.od-area-text-input)'),{required:!0}),e(this).find("textarea")&&es(e(this).find("textarea"),{required:!0}),e(this).find('input[type="email"]')&&es(e(this).find('input[type="email"]'),{required:!0,email:!0}),e(this).find("select")&&es(e(this).find("select"),{required:!0}),e(this).find('input[type="hidden"]')&&es(e(this).find('input[type="hidden"]'),{required:!0}),e(this).find('input[type="tel"]')&&es(e(this).find('input[type="tel"]'),{required:!0,customphone:!0}),e(this).find(".od-hf-selected-location")&&es(e(this).find(".od-hf-selected-location"),{required:!0}),e(this).find(".od-hf-upload-image")&&es(e(this).find(".od-hf-upload-image"),{required:!0}))})},er=function(){if(i.length>0&&i.find(".required-field").length>0){var t="";return i.find(".required-field").each(function(){if(e(this).attr("data-visibility")&&"yes"==e(this).attr("data-visibility")){if(e(this).find('input[type="text"]')){var a=e(this).find('input[type="text"]').val();if(void 0!==a&&(null===a||""===a))return t=eo(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find('input[type="text"]').attr("id"),!1}if(e(this).find("textarea")){var o=e(this).find("textarea").val();if(void 0!==o&&(null===o||""===o))return t=eo(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find("textarea").attr("id"),!1}if(e(this).find('input[type="email"]')){var n=e(this).find('input[type="email"]').val();if(void 0!==n&&(null===n||""===n))return t=eo(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find('input[type="email"]').attr("id"),!1}if(e(this).find("select")){var i=e(this).find("select").val();if(void 0!==i&&(null===i||""===i))return t=eo(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find("select").attr("id"),!1}if(e(this).find('input[type="hidden"]')){var s=e(this).find('input[type="hidden"]').val();if(void 0!==s&&(null===s||""===s))return t=eo(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find('input[type="hidden"]').attr("name"),!1}if(e(this).find('input[type="tel"]')){var d=e(this).find('input[type="tel"]').val();if(void 0!==d&&(null===d||""===d))return t=eo(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find('input[type="tel"]').attr("id"),!1}if(e(this).find(".od-hf-selected-location")){var r=e(this).find(".od-hf-selected-location").val();if(void 0!==r&&(null===r||""===r))return t=eo(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find(".od-hf-selected-location").attr("id"),!1}if(e(this).find(".od-hf-upload-image")){var l=e(this).find(".od-hf-upload-image").val();if(void 0!==l&&(null===l||""===l))return t=eo(e(this))+"###"+e(this).parents(".od-biodata-form-content.form-content").data("step")+"###"+e(this).find(".od-hf-upload-image").attr("id"),!1}}}),t}};e(".od-form-previous-step").length>0&&e(".od-form-previous-step").on("click",function(t){if(t.preventDefault(),e(this).hasClass("od-btn-disabled"))return!1;i.find(".active").removeClass("active"),i.find('[data-step="'+n.current_step+'"]').prev().addClass("active"),e(".odd-biodata-nav ul").find(".active").removeClass("active"),e(".odd-biodata-nav").find('[data-toggle-target=".form-content-'+n.current_step+'"]').parent(".odd-biodata-nav-item").prev().addClass("active"),e(".odd-biodata-nav").find('[data-toggle-target=".form-content-'+n.current_step+'"]').parent(".odd-biodata-nav-item").prev().removeClass("completed"),n.current_step=i.find(".form-content.active").data("step"),Y(),Z();var a=i.find(".form-content-"+n.current_step).find("select, textarea, input").not("input.od-location-checkbox:checkbox");n.current_form_serialize_data=a.serialize(),n.current_form_serialize_array_data=a.serializeArray();var o=e(".odd-biodata-nav ul").find(".active").next().find(".odd-biodata-nav-link").data("toggle-target");if(o){var s=o.split(".form-content-");s.length>0&&P>=s[1]&&e(".odd-biodata-nav ul").find(".active").next().addClass("completed")}I=e(".odd-biodata-nav ul").find(".active .odd-biodata-nav-link").data("toggle-target"),M()}),ed();var el=function(t,a){var o=null;if((o="common_filter"==a?t.parents(".od-biodata-form-content").find(".od-conditional-field-id-"+t.data("field_id")):t.parents('form[name="od_biodata_edit_form"]').find(".od-conditional-field-id-"+t.data("field_id"))).length>0)for(var n=0;n<o.length;n++)if(e(o[n]).hasClass("od-conditional-field-"+t.val())){if("show"==e(o[n]).data("conditional_target")&&(e(o[n]).show(),e(o[n]).attr("data-visibility","yes")),"hide"==e(o[n]).data("conditional_target")){var i=e(o[n]).css("display");if("block"==i){e(o[n]).hide(),e(o[n]).attr("data-visibility")&&e(o[n]).removeAttr("data-visibility"),el(e(o[n]),a);var s=e(o[n]).find(".od-profile-field-select-control");s.length>0&&void 0!==s&&""!=s.val()&&s.val("").trigger("change")}}}else{if("show"==e(o[n]).data("conditional_target")){var i=e(o[n]).css("display");if("block"==i){e(o[n]).hide(),e(o[n]).attr("data-visibility")&&e(o[n]).removeAttr("data-visibility"),el(e(o[n]),a);var s=e(o[n]).find(".od-profile-field-select-control");s.length>0&&void 0!==s&&""!=s.val()&&s.val("").trigger("change")}}"hide"==e(o[n]).data("conditional_target")&&(e(o[n]).show(),e(o[n]).attr("data-visibility","yes"))}},ec=function(t,a){var o=t,n=o.val(),i=o.find('option[value="'+n+'"]').attr("data-search_val");if(el(o,a),o.hasClass("od-biodata-gender-field")){var s=e(".od-biodata-gender-field").find(":selected").text();""==e(".od-biodata-gender-field").val()?o.parents(".od-custom-drop_down_select_box").find(".od-hf-ref-gender").val(""):o.parents(".od-custom-drop_down_select_box").find(".od-hf-ref-gender").val(s)}i&&o.parent(".od-custom-drop_down_select_box").find(".od-hf-corresponding_val").val(i)},ep=function(){var t=p.find(".od-profile-field-select-control").not(".od-biodata-advanced-count-field"),a=i.find(".od-biodata-advanced-count-field");t.length>0&&(t.select2().off().on("change",function(t){ec(e(this),"common_filter"),e(this).val()&&Y()}),t.select2().trigger("change")),a.length>0&&(a.select2().off().on("change",function(t){ec(e(this),"advanced_filter"),e(this).val()&&Y()}),a.select2().trigger("change"))};ep(),e(".od-datepicker").length>0&&e(".od-datepicker").inputmask(),e(".od-location-checkbox").length>0&&e(".od-location-checkbox").on("change",function(){var t=e(this).data("field_id");if(e(this).is(":checked")){if(e(this).parents(".od-form-group-container").find(".od-location-dropdown").hide(),e(this).parents(".od-form-group-container").find(".od-field-desc").hide(),e(this).parents(".od-custom-location").find(".od-hf-ref-location").val(1),e(this).parents(".od-form-group-container").hasClass("required-field"))for(var a in i.validate().settings.rules)(a=="field_"+t||a=="locationExtraField_"+t)&&delete i.validate().settings.rules[a];e(this).parents(".od-form-group-container").find(".od-hf-selected-location").val(""),e(this).parents(".od-form-group-container").hasClass("required-field")&&e("#field_"+t).rules("remove"),e("#field_"+t).val("selected location")}else e(this).parents(".od-form-group-container").find(".od-location-dropdown .od-hf-selected-location").val().length>0&&e(this).parents(".od-form-group-container").find(".od-location-dropdown .od-hf-selected-location").val(""),e(this).parents(".od-form-group-container").find(".od-remove-selected-location").length>0&&e(this).parents(".od-form-group-container").find(".od-remove-selected-location")[0].click(),e(this).parents(".od-form-group-container").find(".od-area-text-input").val(""),e(this).parents(".od-custom-location").find(".od-hf-ref-location").val(0),e(this).parents(".od-form-group-container").find(".od-location-dropdown").show(),e(this).parents(".od-form-group-container").find(".od-field-desc").show(),e(this).parents(".od-form-group-container").hasClass("required-field")&&e("#field_"+t).rules("add",{required:!0}),e("#field_"+t).val("")});var ef=0;e("#target_biodata").length>0&&(ef=e("#target_biodata").val());var eu=function(){e(".od-biodata-contact-panel .od-connections-error-message").length>0&&(e(".od-biodata-contact-panel .od-connections-error-message").remove(),f.biodata_purchase_action=!1,e(".od-dynamic-biodata-purchase-action.od-button-disable").length>0&&e(".od-dynamic-biodata-purchase-action").removeClass("od-button-disable"))},eh=function(t,n){eu();var i="",s="";("no_connections_available"==n||"connections_limit_exceed"==n)&&(i='&nbsp; <a href="'+a.base_url+"/user/account/connection/details?redirect_to="+encodeURIComponent(window.location.href)+'">'+o.connection_link_label+"</a>"),"login_fail"==n&&(i='&nbsp; <a href="'+a.base_url+"/login?redirect_to="+encodeURIComponent(window.location.href)+'">'+o.user_login+"</a>"),s+="<span>"+t+"</span>",i&&(s+=i),e(".od-biodata-contact-panel .ebo-group-content").after('<div class="od-connections-error-message">'+s+"</div>")};null!=sessionStorage.getItem("is_completed_purchase__od")&&(sessionStorage.removeItem("is_completed_purchase__od"),e("html, body").animate({scrollTop:e(document).height()},1e3)),e(".od-dynamic-biodata-purchase-action").length>0&&e(".od-dynamic-biodata-purchase-action").on("click",function(t){t.preventDefault();var n=e(this);if(f.biodata_purchase_action)return!1;f.biodata_purchase_action=!0,n.addClass("od-button-disable"),swal({title:"",text:o.biodata_contact_view_message,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},function(t){t?(e.ajax({url:a.base_url+"/ajax/purchase_biodata",type:"POST",data:{target_biodata:ef},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){"error"==t.status?(eh(t.message,t.error_type),setTimeout(eu,6e3)):"success"==t.status&&(sessionStorage.setItem("is_completed_purchase__od","yes"),e.toast({type:"success",autoDismiss:!0,message:t.message}),setTimeout(function(){window.location.href=window.location.href},2e3))}}),swal.close()):(f.biodata_purchase_action=!1,n.removeClass("od-button-disable"))})}),e(".alert .close").length>0&&e(".alert .close").on("click",function(t){t.preventDefault(),e(this).parent().remove()}),e(".odd-list-items .mobile-list-first-item").click(function(t){t.preventDefault(),e(this).next(".odd-list-item-mobile-content").slideToggle(),e(this).toggleClass("active")});var em=function(e,t,a){var n="",i="",s="",d="";return"undefined"==typeof login_user_track?(swal({title:"",text:o.login_message,confirmButtonText:o.modal_popup.ok_btn_label}),!1):"undefined"!=typeof login_user_track&&login_user_track>0&&login_user_track==t?(swal({title:"",text:o.own_biodata_message,confirmButtonText:o.modal_popup.ok_btn_label}),!1):void("shortlist"==e&&(C(t)?(n=o.short_list_remove_message,s=o.short_listed_solid_label,d=o.short_list_remove_toast_message,i="REMOVE_FROM_LIST"):D(t)?(n=o.short_list_message3,s=o.short_listed_label,d=o.ignore_list_remove_toast_message,i="ADD_TO_LIST_WITH_REMOVE"):(n=o.short_list_message,s=o.short_listed_label,d=o.short_list_added_toast_message,i="ADD_TO_LIST")),"ignorelist"==e&&(D(t)?(n=o.ignore_list_remove_message,s=o.ignored_solid_label,d=o.ignore_list_remove_toast_message,i="REMOVE_FROM_LIST"):C(t)?(n=o.ignore_list_message2,s=o.short_listed_solid_label,d=o.short_list_remove_toast_message,i="ADD_TO_LIST_WITH_REMOVE"):(n=o.ignore_list_message,s=o.ignored_label,d=o.ignore_list_added_toast_message,i="ADD_TO_LIST")),a(n,i,s,d))},e8=function(){e(".od-biodata-shortlist-link").length>0&&e(document).off().on("click",".od-biodata-shortlist-link",function(n){n.preventDefault();var i=this,s=e(this).data("user_id"),d=e(this);if(void 0===s||""===s)return!1;em("shortlist",s,function(n,r,l,c){swal({title:"",text:n,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},function(n){n&&(e(".od-biodata-shortlist, .od-biodata-ignoreList").css("pointer-events","none"),e.ajax({url:a.base_url+"/ajax/shortlist",type:"POST",data:{biodata_id:s,current_status:r},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(n){"success"==n.status&&(d.find("span").text(l),"ADD_TO_LIST"==r&&(e(".od-biodata-shortlist").css("pointer-events","unset"),e(i).attr({class:"od-biodata-shortlist-link biodata-shortlist-icon"}),e(i).find("img").attr({src:a.base_url+"/images/short_lists.png"}),t.push(s)),"ADD_TO_LIST_WITH_REMOVE"==r&&(t.push(s),u=u.filter(e=>e!==s)),"REMOVE_FROM_LIST"==r&&(e(i).attr({class:"biodata-shortlisted-icon od-biodata-shortlist-link"}),e(i).find("img").attr({src:a.base_url+"/images/shortlist-ico.svg"}),t=t.filter(e=>e!==s)),"ADD_TO_LIST_WITH_REMOVE"==r&&(e(".od-biodata-shortlist-link").find("span").text(o.short_listed_label),e(".od-biodata-ignoreList-link").find("span").text(o.ignored_solid_label)),e.toast({type:"success",autoDismiss:!0,message:c}),swal.close(),e(".od-biodata-shortlist, .od-biodata-ignoreList").removeAttr("style"))}}))})})})};e8(),e(".oddl-delete-from-shortlist").length>0&&e(".oddl-delete-from-shortlist").on("click",function(t){t.preventDefault();var n=e(this).data("id");swal({title:"",text:o.short_list_remove_message,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},function(t){t&&e.ajax({url:a.base_url+"/ajax/remove/shortlist/item",type:"POST",data:{id:n},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){"success"==t.status&&(e.toast({type:"success",autoDismiss:!0,message:t.message}),setTimeout(function(){window.location.href=window.location.href},2500))}})})}),e(".od-biodata-ignoreList-link").length>0&&e(".od-biodata-ignoreList-link").on("click",function(n){n.preventDefault();var i=e(this).data("user_id"),s=e(this);if(void 0===i||""===i)return!1;em("ignorelist",i,function(n,d,r,l){swal({title:"",text:n,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},function(n){n&&(e(".od-biodata-shortlist, .od-biodata-ignoreList").css("pointer-events","none"),e.ajax({url:a.base_url+"/ajax/ignorelist",type:"POST",data:{biodata_id:i,current_status:d},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){a&&"success"==a.status&&(s.find("span").text(r),"ADD_TO_LIST"==d&&u.push(i),"ADD_TO_LIST_WITH_REMOVE"==d&&(u.push(i),t=t.filter(e=>e!==i)),"REMOVE_FROM_LIST"==d&&(u=u.filter(e=>e!==i)),"ADD_TO_LIST_WITH_REMOVE"==d&&(e(".od-biodata-shortlist-link").find("span").text(o.short_listed_solid_label),e(".od-biodata-ignoreList-link").find("span").text(o.ignored_label)),e.toast({type:"success",autoDismiss:!0,message:l}),swal.close(),e(".od-biodata-shortlist, .od-biodata-ignoreList").removeAttr("style"))}}))})})}),e(".oddl-delete-from-ignorelist").length>0&&e(".oddl-delete-from-ignorelist").on("click",function(t){t.preventDefault();var n=e(this).data("id");swal({title:"",text:o.ignore_list_remove_message,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},function(t){t&&e.ajax({url:a.base_url+"/ajax/remove/ignorelist/item",type:"POST",data:{id:n},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){"success"==t.status&&(e.toast({type:"success",autoDismiss:!0,message:t.message}),setTimeout(function(){window.location.href=window.location.href},2500))}})})});var eg=function(){var t=document.getElementById("copy_biodata_link");t.readOnly=!0,t.type="text",t.select(),t.setSelectionRange(0,99999),navigator.clipboard.writeText(t.value),t.type="hidden",e.toast({type:"success",autoDismiss:!0,message:o.copy_success_message})};e(".copy-biodata-link").length>0&&e(".copy-biodata-link").on("click",function(t){t.preventDefault(),e("#copy_biodata_link").length>0&&eg()}),e(".od-bio-status-change-by-one-click").length>0&&e(".od-bio-status-change-by-one-click").on("click",function(){var t=e(this),n="HIDDEN",i=o.user_status_change_message_hide;this.checked&&(n="APPROVED",i=o.user_status_change_message_live),swal({title:"",text:i,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},function(i){i?e.ajax({url:a.base_url+"/ajax/change_biodata_status_by_user",type:"POST",data:{status:n},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){"success"==t.status&&(e.toast({type:"success",autoDismiss:!0,message:o.user_status_change_after_message}),setTimeout(function(){window.location.href=window.location.href},1500))}}):"APPROVED"==n?t.prop("checked",!1):t.prop("checked",!0),swal.close()})}),e(".od-range-slider").length>0&&e(".od-range-slider").ionRangeSlider({onChange:function(t){var a=0;a="double"==e(t.input).data("type")?t.from+"-"+t.to:t.from,e(t.input).parents(".od-custom-range_slider").find(".od-hf-range-slider-value").val(a)}});var ev=function(t){var a=[],o=[],n=t.data("target");"regular"==n&&(t.parents(".odb-ef-input").find(".filter-values").val().length>0&&(o=JSON.parse(t.parents(".odb-ef-input").find(".filter-values").val())),t.parents(".odb-ef-input").find(".filter-corresponding-values").val().length>0&&(a=JSON.parse(t.parents(".odb-ef-input").find(".filter-corresponding-values").val())));e("#"+t.attr("id")).ionRangeSlider({type:"double",min:t.data("min_val"),max:t.data("max_val"),from:t.data("from_val"),to:t.data("to_val"),prettify:function(e){return"regular"!=n?e:(0,o[a.indexOf(e)])},onChange:function(t){var a=e(t.input)[0].dataset.target,o=0;o="with_value"==a?t.from+"-"+t.to:"regular"==a?t.from+"-"+t.to:t.from,"biodata_search"==l&&e(t.input).parents(".odb-each-field").find(".od-hf-filter-range-slider-value").val(o),"home"==l&&e(t.input).parent(".main-search-option-input").find(".od-hf-filter-range-slider-value").val(o)}})};e(".search-filter-range-slider").length>0&&e(".search-filter-range-slider").each(function(){ev(e(this))}),e(".biodata-no-search-action").length>0&&e(".biodata-no-search-action").on("click",function(t){t.preventDefault();var a=e(".od-biodata-search-with-number");if(a.length>0&&(null==a.val()||""==a.val()))return a.css("border","1px solid #FF0000"),!1;r=!0,a.css("border","1px solid #d5d5d5"),ej({_target:"biodata_no",search_parms:a.val()})});var eb=function(){e("#current_page_name").length>0&&"search_page"==e("#current_page_name").val()&&e(".od-ajax-pagination-item").length>0&&e(".od-ajax-pagination-item").off().on("click",function(t){t.preventDefault();var a=0,o=e(this).attr("href").split("?page=");if(o.length>0&&(a=o[1]),a>0){var n=null;if(r||(n={_target:"pagination",page_number:a,sort_by:e(".od-biodata-sorting").val()},ej(n)),r&&eT(a),history.pushState){let i=new URLSearchParams(decodeURIComponent(window.location.search));i.set("page_number",a),i.search=i.toString();var s=i.toString(),d=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+s;window.history.pushState({path:d},"",d)}}})};if(eb(),e(".filter-corresponding-values").length>0&&e(".filter-corresponding-values").val().length>0){var e$=Math.min(...h=JSON.parse(e(".filter-corresponding-values").val())),ey=Math.max(...h);e$&&ey&&(h=e$+"-"+ey)}var ew=function(){e(".od-biodata-search-control").each(function(){e(this).hasClass("od-filter-by-dropdown")?(e(this).select2("destroy"),e(this).val("no_selected").select2()):e(this).hasClass("search-filter-range-slider")&&"regular"==e(this).data("target")?(e(this).data("ionRangeSlider").reset(),e(this).parents(".odb-each-field").find(".od-hf-filter-range-slider-value").val(h)):e(this).hasClass("search-filter-range-slider")&&"with_value"==e(this).data("target")?(e(this).attr("data-from",e(this).data("min")),e(this).attr("data-to",e(this).data("max")),e(this).data("ionRangeSlider").update({from:e(this).data("min"),to:e(this).data("max")}),e(this).parents(".odb-each-field").find(".od-hf-filter-range-slider-value").val(e(this).data("min")+"-"+e(this).data("max"))):e(this).hasClass("od-profile-search-checkbox")?e(this).find('input[type="checkbox"]').each(function(){e(this).prop("checked",!1)}):e(this).hasClass("od-field-type__location")&&(e(this).find(".od-location-dropdown-trigger-close").remove(),e(this).find(".od-location-dropdown-trigger").show())})};e(".od-clear-all-filters").length>0&&e(".od-clear-all-filters").on("click",function(e){e.preventDefault();let t=window.location.origin+window.location.pathname;history.pushState({},null,t),r=!1,ew(),ej({_target:"all_clear"})});var ek=function(){e(".od-biodata-sorting").length>0&&e(".od-biodata-sorting").select2().on("change",function(){var t=null;r||(t={_target:"sorting",sort_by:e(this).val()},ej(t)),r&&eT(1)})};ek();var ex=[{id:2,column:"biodata_type"},{id:3,column:"marital_status"},{id:4,column:"age"},{id:10,column:"permanent_address"},{id:11,column:"present_address"},{id:25,column:"education_method"},{id:196,column:"islamic_educational_qualification"},{id:6,column:"range_val"},{id:5,column:"complexion"},{id:80,column:"fiqh_follow"},{id:194,column:"occupation"},{id:29,column:"financial_status"},{id:190,column:"category"}],eC=function(){s=[],e(".od-biodata-search-control").each(function(){var t="";let a=ex.find(t=>t.id==e(this).data("field_id"));if(a&&null!=a&&(t=a.column),e(this).hasClass("od-filter-by-dropdown"))s.push({type:"dropdown",field_id:e(this).data("field_id"),value:e(this).val(),column_name:t});else if(e(this).hasClass("search-filter-range-slider")&&"regular"==e(this).data("target"))s.push({type:"slider",field_id:e(this).data("field_id"),value:e(this).parents(".odb-ef-input").find(".od-hf-filter-range-slider-value").val(),column_name:t});else if(e(this).hasClass("search-filter-range-slider")&&"with_value"==e(this).data("target")){var o="";"age"==e(this).data("field_type")&&(o="slider_with_age"),s.push({type:o,field_id:e(this).data("field_id"),value:e(this).parents(".odb-ef-input").find(".od-hf-filter-range-slider-value").val(),column_name:t})}else if(e(this).hasClass("od-profile-search-checkbox")){if(e(this).find('input[type="checkbox"]:checked').length>0){var n=[];e(this).find('input[type="checkbox"]:checked').each(function(){n.push(e(this).val())}),s.push({type:"checkbox",field_id:e(this).data("field_id"),value:n,column_name:t})}}else if(e(this).hasClass("od-field-type__location")){var i="country";e(this).find(".od-selected-location").length>0&&e(this).find(".od-selected-location").attr("data-target")&&(i=e(this).find(".od-selected-location").attr("data-target")),s.push({type:"location",field_id:e(this).data("field_id"),value:e(this).find(".od-hf-selected-location").val(),target:i,column_name:t})}})},eT=function(t){if(r=!0,eC(),s.length>0){var a={_target:"all_terms",page_number:t,sort_by:e(".od-biodata-sorting").val(),selected_value:JSON.stringify(s)};ej(a)}},e_=()=>{var t="";if(e(".od-search-content-container .od-biodata-search-control").each(function(){if(e(this).hasClass("od-filter-by-dropdown"))t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+e(this).val())+"&";else if(e(this).hasClass("search-filter-range-slider"))t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+e(this).parent(".odb-ef-input").find(".od-hf-filter-range-slider-value").val())+"&";else if(e(this).hasClass("od-location-dropdown")){if(e(this).find(".od-location-dropdown-trigger-close").length>0){var a="country";e(this).find(".od-selected-location").length>0&&e(this).find(".od-selected-location").attr("data-target")&&(a=e(this).find(".od-selected-location").attr("data-target")),t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+e(this).find(".od-field-type__location").val())+"&lt="+encodeURIComponent(a)+"&"}}else if(e(this).hasClass("od-profile-search-checkbox")&&e(this).find('input[type="checkbox"]:checked').length>0){var o=[];e(this).find('input[type="checkbox"]:checked').each(function(){o.push(e(this).val())}),o.length>0&&(t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+o)+"&")}}),t&&(t=t.replace(/&\s*$/,"")),history.pushState){var a=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+t;window.history.pushState({path:a},"",a)}};e(".all-items-search-action").length>0&&e(".all-items-search-action").on("click",function(){eT(1),e_()});var eD=function(){e(".od-biodata-search-control").length>0&&e(".od-biodata-search-control").each(function(){e(this).find(":checkbox").length>0&&e(this).find(":checkbox").prop("disabled",!0),e(this).hasClass("select2")&&e(this).prop("disabled",!0),e(this).hasClass("od-field-type__location")&&e(this).css({"pointer-events":"none"})})},eS=function(){e(".od-biodata-search-control").length>0&&e(".od-biodata-search-control").each(function(){e(this).find(":checkbox").length>0&&e(this).find(":checkbox").prop("disabled",!1),e(this).hasClass("select2")&&e(this).prop("disabled",!1),e(this).hasClass("od-field-type__location")&&e(this).css({"pointer-events":""})})};let eO="";eO+='<div class="odbc-head skeleton">',eO+='<div class="odbc-title-group">',eO+="<h1>&nbsp;</h1>",eO+='<p class="result-found result-found__desktop">&nbsp;</p>',eO+="</div>",eO+='<div class="od-search-filters">',eO+="</div>",eO+="</div>",eO+='<div class="od-row">';for(let eE=0;eE<9;eE++)eO+='<div class="od-col-12 od-col-sm-6 od-col-md-4">',eO+='<div class="odbc-each-biodata-card skeleton">',eO+='<div class="odbcebc-head ">',eO+='<a class="biodata-shortlisted-icon od-biodata-shortlist od-biodata-shortlist-link"><img src="https://shadibari.com/assets/images/shortlist-ico.svg" alt="Shortlisted"></a>',eO+="<span>&nbsp;</span>",eO+="<h2>&nbsp;</h2>",eO+="<h3>&nbsp;</h3>",eO+="</div>",eO+='<div class="odbcebc-content">',eO+='<div class="each-item">',eO+="<label>&nbsp;</label>",eO+="<p>&nbsp;</p>",eO+="</div>",eO+='<div class="each-item">',eO+="<label>&nbsp;</label>",eO+="<p>&nbsp;</p>",eO+="</div>",eO+='<div class="each-item">',eO+="<label>&nbsp;</label>",eO+="<p>&nbsp;</p>",eO+="</div>",eO+='<div class="odbcebc-button">',eO+='<a href="#" class="od-button">&nbsp;</a>',eO+="</div>",eO+="</div>",eO+="</div>",eO+="</div>";eO+="</div>";var ej=function(t){if(f.biodata_search_with_ajax)return!1;f.biodata_search_with_ajax=!0,eD(),e("html, body").animate({scrollTop:0},"slow"),e(".od-biodatas-sidebar .od-search-content-container").addClass("od-overlay"),e(".od-biodatas-sidebar .od-search-content-container").css({"pointer-events":"none"}),e(".od-profile-search-content").html(eO),e.ajax({url:a.base_url+"/ajax/biodata_search",type:"GET",data:t,dataType:"HTML",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){if(a){if(e(".od-biodatas-sidebar .od-search-content-container").removeClass("od-overlay"),e(".od-biodatas-sidebar .od-search-content-container").removeAttr("style"),"all_clear"!=t._target||e(".od-biodatas-sidebar").hasClass("filter-open")||e(".od-biodatas-container").hasClass("filter-open")||e(".od-clear-all-filters").hide(),r&&e(".od-clear-all-filters").show(),e(".od-profile-search-content").length>0&&(e(".od-profile-search-content").html(a),e(".od-biodata-sorting").select2()),e(".result-found__desktop").length>0&&e(".result-found__mobile").length>0){var o=e(".result-found__desktop").html();e(".result-found__mobile").html(o)}eb(),ek(),K(),e8(),c="",f.biodata_search_with_ajax=!1,eS(),e(".od-biodatas-sidebar").hasClass("filter-open")&&e(".od-biodatas-container").hasClass("filter-open")&&"all_clear"!==t._target&&e(".od-biodatas-sidebar, .od-biodatas-container").removeClass("filter-open")}}})};e(window).load(function(){let t=new URLSearchParams(decodeURIComponent(window.location.search));if(e("#has_search_query_string").length>0&&"yes"==e("#has_search_query_string").val()){let a=1;t.has("page_number")&&(a=t.get("page_number")),eT(a)}});var eR=null,eB=null;if(e("#package_data").length>0&&(eB=JSON.parse(e("#package_data").text())),e(".od-pay-now-button").length>0&&e(".od-pay-now-button").on("click",function(t){return t.preventDefault(),void 0===e(".payment-oddepp-action input[name='terms_refund_policy']:checked").val()?(swal({title:"",text:o.terms_refund_selection_on_payment_page,confirmButtonText:o.modal_popup.ok_btn_label}),!1):void 0===(eR=e(".od-payment-selection-container input[name='payment_option']:checked").val())?(swal({title:"",text:o.payment_gateway_selection_message,confirmButtonText:o.modal_popup.ok_btn_label}),!1):void(("bkash"==eR||"nagad"==eR)&&(e(this).addClass("payment-button-selection"),e(this).after('<div class="od-loader-small"></div>')),"bkash"==eR?e("#bKash_button").length>0&&e("#bKash_button")[0].click():"nagad"==eR&&e(".od-place-order").length>0&&e(".od-place-order")[0].click())}),e(".od-payment-selection-container input[name='payment_option']").length>0&&e(".od-payment-selection-container input[name='payment_option']").on("change",function(){eB.gateway=e(this).val()}),e(".od-place-order").length>0&&e(".od-place-order").on("click",function(){if("nagad"!=eR)return!1;e("#nagadFrameWrapper").length>0&&null!=eB&&e.ajax({url:a.nagad_initialize,type:"GET",data:{gateway:eB.gateway,package:eB.package,billing_data:"No billing data yet"},contentType:"application/json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){t&&("success"==t.status?window.location.href=t.data:window.location.href=window.location.href),e(".payment-button-holder").length>0&&(e(".payment-button-holder").find(".payment-button-selection").removeClass("payment-button-selection"),e(".payment-button-holder").find(".od-loader-small").remove())},error:function(){}})}),e("#bKash_button").length>0){var eI,eN,eP={createCheckoutURL:a.bkash_createpayment,executeCheckoutURL:a.bkash_executepayment,queryPaymentURL:a.bkash_querypayment};eI={amount:eB.price,intent:"sale"},bKash.init({paymentMode:"checkout",paymentRequest:eI,createRequest:function(t){var a;if("bkash"!=eR)return!1;null!=eB?(a=t,e.ajax({url:eP.createCheckoutURL,type:"GET",data:{gateway:eB.gateway,package:eB.package},contentType:"application/json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){if(t){var a=JSON.parse(t);t&&null!=a.paymentID?(eN=a.paymentID,bKash.create().onSuccess(a)):bKash.create().onError()}e(".payment-button-holder").length>0&&(e(".payment-button-holder").find(".payment-button-selection").removeClass("payment-button-selection"),e(".payment-button-holder").find(".od-loader-small").remove())},error:function(){bKash.create().onError()}})):e("#bKashFrameWrapper").css({position:""})},executeRequestOnAuthorization:function(){e.ajax({url:eP.executeCheckoutURL,type:"GET",data:{_paymentID:eN,gateway:eB.gateway,package:eB.package,billing_data:"No billing data yet"},contentType:"application/json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){if(t){if(t&&"success"==t.status)window.location.href=t.success_url;else if(bKash.execute().onError(),t.response.hasOwnProperty("errorCode")){var a=t.response.errorCode;swal({title:o.payment_failed,type:"warning",text:o.bkash_error_message[a],confirmButtonText:o.modal_popup.ok_btn_label})}}else e.ajax({url:eP.queryPaymentURL,type:"GET",data:{_paymentID:eN,gateway:eB.gateway,package:eB.package,billing_data:"No billing data yet"},contentType:"application/json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(e){if(e){if(e&&"success"==e.status)window.location.href=e.success_url;else if(e.response.hasOwnProperty("errorCode")){var t=e.response.errorCode;swal({title:o.payment_failed,type:"warning",text:o.bkash_error_message[t],confirmButtonText:o.modal_popup.ok_btn_label})}}}});e(".payment-button-holder").find(".payment-button-selection").remove(),e(".payment-button-holder").find(".od-loader-small").remove()},error:function(){bKash.execute().onError()}})}})}e(".close-notification").length>0&&e(".close-notification").on("click",function(t){t.preventDefault();var n=e(this);swal({title:"",text:o.notification_remove_message,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:o.modal_popup.ok_btn_label,cancelButtonText:o.modal_popup.cancel_btn_label,closeOnConfirm:!1},function(t){t&&e.ajax({url:a.base_url+"/ajax/remove_notification",type:"POST",data:{id:n.data("id")},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){"success"==t.status&&(e.toast({type:"success",autoDismiss:!0,message:o.notification_remove_success_message}),setTimeout(function(){window.location.href=window.location.href},1500))}}),swal.close()})}),e(".od-search-fields .od-button").length>0&&e(".od-search-fields .od-button").on("click",function(){var t="";e(".main-search-option .od-biodata-search-control").each(function(){if(e(this).hasClass("dropdown-field"))t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+e(this).val())+"&";else if(e(this).hasClass("search-filter-range-slider"))t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+e(this).parent(".main-search-option-input").find(".od-hf-filter-range-slider-value").val())+"&";else if(e(this).hasClass("od-location-dropdown")&&e(this).find(".od-location-dropdown-trigger-close").length>0&&c){var a="country";e(this).find(".od-selected-location").length>0&&e(this).find(".od-selected-location").attr("data-target")&&(a=e(this).find(".od-selected-location").attr("data-target")),t+="f-"+e(this).data("field_id")+"="+encodeURIComponent(e(this).data("field_id")+"##"+c)+"&lt="+encodeURIComponent(a)+"&"}}),t&&(t=t.replace(/&\s*$/,"")),e("#biodata_search_url").length>0&&e("#biodata_search_url").val().length>0&&t&&(window.location.href=e("#biodata_search_url").val()+"?"+t)}),e(".od-uploader-panel-wrap").length>0&&(e(".od-uploader-panel-wrap").on("click",function(){e(".od-image-uploader").trigger("click")}),e("body").on("change",".od-image-uploader",function(){var t=e(this),n=e(this).prop("files")[0],i=new FormData;i.append("file",n);var s=e(".od-uploader-container");if(t.parents(".od-uploader-container").find(".od-error").length>0&&t.parents(".od-uploader-container").find(".od-error").remove(),Math.round(n.size/1024)>5080)return t.parents(".od-uploader-container").find(".od-uploader-panel-wrap").after('<p class="od-error">'+o.image_size_validation+"</p>"),!1;s.length>0&&(s.find(".od-uploader-panel-wrap").after('<div class="od-loader-small"></div>'),s.css({"pointer-events":"none"})),e.ajax({url:a.base_url+"/ajax/upload_image",type:"POST",contentType:!1,processData:!1,dataType:"json",data:i,headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(n){if(s.length>0&&(s.find(".od-loader-small").remove(),s.removeAttr("style")),"error"==n.status)t.parents(".od-uploader-container").find(".od-uploader-panel-wrap").after('<p class="od-error">'+n.message+"</p>");else if("success"==n.status){var i=t.parents(".od-uploader-container").find(".od-error"),d=t.parents(".od-uploader-container").find('input[type="hidden"]'),r=t.parents(".od-uploader-container").find(".od-uploaded-image-visibility-container");if(e(i).remove(),e(d).val(n.filename),r.find("img").length>0)r.find("img").attr("src",a.uploads_base_url+n.filename);else{var l="";l+='<div class="od-display-flex">',l+='<div class="od-image-visible-area">',l+='<img src="'+a.uploads_base_url+n.filename+'">',l+="</div>",l+='<div><a class="od-image-remove" href="">'+o.remove_image+"</a></div>",l+="</div>",r.append(l),e0()}"none"==r.css("display")&&r.show()}}})}));var e0=function(){e(".od-image-remove").length>0&&e(".od-image-remove").on("click",function(t){t.preventDefault(),e(this).parents(".od-uploader-container").find(".od-hf-upload-image").val(""),e(this).parents(".od-uploaded-image-visibility-container").hide(),e(this).parents(".od-uploaded-image-visibility-container").html("")})};e0();var eL=function(e){var t=new Date,a=60*parseInt(e);t.setTime(t.getTime()+6e4*a),document.cookie="__set_od_promotional_modal_expires=1;expires="+t+";path=/"},eF=document.getElementById("promotional_modal");if(null!=eF&&void 0!==eF&&"undefined"!=typeof modal_expires&&modal_expires&&modal_expires>0){var eq=document.getElementsByClassName("promotional-close")[0];""==function(e){for(var t=e+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var n=a[o];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}("__set_od_promotional_modal_expires")&&(eF.style.display="block"),eq.onclick=function(){var e=168;"undefined"!=typeof modal_expires&&modal_expires&&modal_expires>0&&(e=modal_expires),eL(e),eF.style.display="none"},window.onclick=function(e){e.target==eF&&(eF.style.display="none")}}let eA=()=>{e(".od-user-reg-process-container").find('input[name="name"]').length>0&&(v.name=e(".od-user-reg-process-container").find('input[name="name"]').val()),e(".od-user-reg-process-container").find('input[name="gender"]').length>0&&(v.gender=e('input[name="gender"]:checked').val()),e(".od-user-reg-process-container").find('input[name="email"]').length>0&&(v.email=e(".od-user-reg-process-container").find('input[name="email"]').val()),e(".od-user-reg-process-container").find('select[name="country_code"]').length>0&&(v.mobile_code=e(".od-user-reg-process-container").find('select[name="country_code"]').val()),e(".od-user-reg-process-container").find('input[name="mobile"]').length>0&&(v.mobile_number=e(".od-user-reg-process-container").find('input[name="mobile"]').val()),e(".od-user-reg-process-container").find('input[name="password"]').length>0&&(v.password=e(".od-user-reg-process-container").find('input[name="password"]').val()),e(".od-user-reg-process-container").find('input[name="password_confirmation"]').length>0&&(v.password_confirmation=e(".od-user-reg-process-container").find('input[name="password_confirmation"]').val()),e(".od-user-registration-form-container").find('input[name="a_c_t"]').length>0&&(v.a_type=e(".od-user-registration-form-container").find('input[name="a_c_t"]').val())},eK=()=>{e(".od-pass-reset-form-container").find('input[name="email"]').length>0&&(b.email=e(".od-pass-reset-form-container").find('input[name="email"]').val()),e(".od-pass-reset-form-container").find('input[name="password"]').length>0&&(b.password=e(".od-pass-reset-form-container").find('input[name="password"]').val()),e(".od-pass-reset-form-container").find('input[name="confirm_password"]').length>0&&(b.confirm_password=e(".od-pass-reset-form-container").find('input[name="confirm_password"]').val()),e(".od-pass-reset-form-container").find('select[name="country_code"]').length>0&&(b.mobile_code=e(".od-pass-reset-form-container").find('select[name="country_code"]').val()),e(".od-pass-reset-form-container").find('input[name="mobile"]').length>0&&(b.mobile_number=e(".od-pass-reset-form-container").find('input[name="mobile"]').val())},ez=()=>{eA(),eX()},eM=()=>{var t=!1;e(".od-user-reg-process-container").find(".od-input-keyup").each(function(a,o){let n=e(this).attr("type");t||"text"!=n&&"email"!=n&&"tel"!=n&&"password"!=n||""!=e(this).val().trim()||(t=!0)}),e('.od-user-reg-process-container input[name="gender"]').length>0&&void 0===e('.od-user-reg-process-container input[name="gender"]:checked').val()&&(t=!0),!0==t?(e(".od-reg-process-btn, .od-get-email-code, .od-verify-email-otp, .od-get-mobile-code, .od-verify-mobile-otp, .od-do-account-process").attr("disabled","disabled"),e(".od-reg-process-btn").length>0&&e(".od-reg-process-btn").off("click",ez)):(e(".od-user-registration-form-container").find('input[name="a_c_t_s"]').val(e(".od-reg-process-btn").attr("data-n_s")),e(".od-reg-process-btn, .od-get-email-code, .od-verify-email-otp, .od-get-mobile-code, .od-verify-mobile-otp, .od-do-account-process").removeAttr("disabled"),e(".od-reg-process-btn").length>0&&e(".od-reg-process-btn").off().on("click",ez))},e3=()=>{e(".od-user-reg-process-container").find(".od-input-keyup").length>0&&e(".od-user-reg-process-container").find(".od-input-keyup").off().on("keyup",()=>{eM()}),e('.od-user-reg-process-container input[name="gender"]').length>0&&e('.od-user-reg-process-container input[name="gender"]').off().on("change",()=>{eM()})},eX=(t=null)=>{e(".od-user-reg-process-container .od-reg-step-by-fields").length>0&&e(".od-user-reg-process-container .od-reg-step-by-fields").remove(),e(".od-user-reg-process-container .od__box_title").length>0&&e(".od-user-reg-process-container .od__box_title").remove();let o=e("[name='a_c_t_s']").val(),n=e("[name='a_c_t']").val();e(".od-user-reg-process-loader-container").html('<div class="od-loader-small"></div>'),setTimeout(()=>{e.ajax({url:a.base_url+"/ajax/get_r_a_fs",type:"GET",data:{a_c_t:n,a_c_t_s:o,r_d:v},dataType:"html",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){if(a&&(e(".od-user-reg-process-loader-container").html(""),e(".od-user-reg-process-container").append(a),e3(),e(".od-get-email-code").length>0&&e(".od-get-email-code").on("click",e7),e(".od-send-new-email-verify-code").length>0&&e(".od-send-new-email-verify-code a").on("click",e1),e(".od-verify-email-otp").length>0&&e(".od-verify-email-otp").on("click",e9),e(".od-get-mobile-code").length>0&&e(".od-get-mobile-code").on("click",e6),e(".od-send-new-mobile-verify-code").length>0&&e(".od-send-new-mobile-verify-code a").on("click",e2),e(".od-verify-mobile-otp").length>0&&e(".od-verify-mobile-otp").on("click",eJ),e(".od-do-account-process").length>0&&e(".od-do-account-process").on("click",eZ),t&&"success"==t.type&&e(".od-verification-message .od-verification-message-holder").length>0&&(e(".od-verification-message .od-verification-message-holder").html(""),e(".od-verification-message .od-verification-message-holder").append('<div class="success">'+t.msg+"</div>")),e(".od-user-registration-form-container").find('input[name="g_profile"]').length>0)){let o=e(".od-user-registration-form-container").find('input[name="g_profile"]');if(o.val()){let n=JSON.parse(o.val());n&&(v.name=n.name,v.email=n.email,o.remove())}}},error:function(){}})},700)};eX();var eH=()=>{e(".od-verification-message").length>0&&e(".od-verification-message").find(".error").remove(),e(".od-verification-code-message").length>0&&e(".od-verification-code-message").find(".error").remove(),e(".od-reg-error-message").length>0&&e(".od-reg-error-message").find(".error").remove()};let eV=()=>{var t=!1;e(".od-pass-reset-form-container").find(".od-input-keyup").each(function(a,o){let n=e(this).attr("type");t||"text"!=n&&"email"!=n&&"tel"!=n&&"password"!=n||""!=e(this).val().trim()||(t=!0)}),!0==t?e(".od-get-email-code, .od-verify-email-otp, .od-get-mobile-code, .od-verify-mobile-otp, .od-do-new-passwd-process").attr("disabled","disabled"):e(".od-get-email-code, .od-verify-email-otp, .od-get-mobile-code, .od-verify-mobile-otp, .od-do-new-passwd-process").removeAttr("disabled")},e4=()=>{e(".od-pass-reset-form-container").find(".od-input-keyup").length>0&&e(".od-pass-reset-form-container").find(".od-input-keyup").off().on("keyup",()=>{eV()})},eU=(t=null)=>{e(".od-passwd-reset-container .od-passwd-reset-step-by-fields").length>0&&e(".od-passwd-reset-container .od-passwd-reset-step-by-fields").remove(),e(".od-pass-reset-form-container .od__box_title").length>0&&e(".od-pass-reset-form-container .od__box_title").remove();let o=e("[name='p_r_s']").val(),n=e("[name='p_r_t']").val();e(".od-passwd-reset-loader-container").html('<div class="od-loader-small"></div>'),setTimeout(()=>{e.ajax({url:a.base_url+"/ajax/get_p_r_fs",type:"GET",data:{p_r_t:n,p_r_s:o,p_r_d:b},dataType:"html",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(a){a&&(e(".od-passwd-reset-loader-container").html(""),e(".od-passwd-reset-container").append(a),e4(),e(".od-get-email-code").length>0&&e(".od-get-email-code").on("click",e7),e(".od-send-new-email-verify-code").length>0&&e(".od-send-new-email-verify-code a").on("click",e1),e(".od-verify-email-otp").length>0&&e(".od-verify-email-otp").on("click",e9),e(".od-get-mobile-code").length>0&&e(".od-get-mobile-code").on("click",e6),e(".od-send-new-mobile-verify-code").length>0&&e(".od-send-new-mobile-verify-code a").on("click",e2),e(".od-verify-mobile-otp").length>0&&e(".od-verify-mobile-otp").on("click",eJ),e(".od-do-new-passwd-process").length>0&&e(".od-do-new-passwd-process").on("click",te),t&&"success"==t.type&&e(".od-verification-message .od-verification-message-holder").length>0&&(e(".od-verification-message .od-verification-message-holder").html(""),e(".od-verification-message .od-verification-message-holder").append('<div class="success">'+t.msg+"</div>")))},error:function(){}})},700)};eU();var eW=null;e("[name='a_c_t_s']").length>0&&(eW="registration"),e("[name='p_r_t']").length>0&&(eW="reset_passwd");var e7=function(){var t=e(".od-get-email-code").parents(".od-step-process-fields").find("input[type='email']");eG(t.val(),e(this),"first_event")},e1=function(t){t.preventDefault();var a=e(".od-send-new-email-verify-code a"),o=null;"registration"==eW&&(o=v.email),"reset_passwd"==eW&&(o=b.email),eG(o,a,"resend_event")},e9=function(){var t=e(".od-verify-email-otp").parents(".od-step-process-fields").find("[name='verification_code']");e5(t,e(".od-verify-email-otp"))},eG=function(t,o,n){o.css({"pointer-events":"none"}),"first_event"==n&&o.off("click",e7),"resend_event"==n&&o.off("click",e1),e.ajax({url:a.base_url+"/ajax/verify/email",type:"POST",data:{action_type:eW,email:t},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){if(!t)return!1;"registration"==eW&&e3(),"reset_passwd"==eW&&e4(),"error"==t.status&&e(".od-verification-message .od-verification-message-holder").length>0&&(e(".od-verification-message .od-verification-message-holder").html(""),e(".od-verification-message .od-verification-message-holder").append('<div class="error">'+t.message+"</div>")),"success"==t.status&&("registration"==eW&&e(".od-user-registration-form-container").find('input[name="a_c_t_s"]').val(t.a_c_s),"reset_passwd"==eW&&e(".od-pass-reset-form-container").find('input[name="p_r_s"]').val(t.a_c_s),"registration"==eW&&"first_event"==n&&(eA(),eX({type:"success",msg:t.message})),"reset_passwd"==eW&&"first_event"==n&&(eK(),eU({type:"success",msg:t.message})),"resend_event"==n&&e(".od-verification-message .od-verification-message-holder").length>0&&(e(".od-verification-message .od-verification-message-holder").html(""),e(".od-verification-message .od-verification-message-holder").append('<div class="success">'+t.message+"</div>"))),"already_verified"==t.status&&("registration"==eW&&(e(".od-user-registration-form-container").find('input[name="a_c_t_s"]').val(t.a_c_s),eA(),eX()),"reset_passwd"==eW&&(e(".od-pass-reset-form-container").find('input[name="p_r_s"]').val(t.a_c_s),eK(),eU())),o&&(o.css({"pointer-events":""}),"first_event"==n&&o.on("click",e7),"resend_event"==n&&o.on("click",e1)),setTimeout(()=>{eH()},7e3)},error:function(){}})},e5=function(t,o){o.css({"pointer-events":"none"}),o.off("click",e9);let n=null;"registration"==eW&&(n=v.email),"reset_passwd"==eW&&(n=b.email),e.ajax({url:a.base_url+"/ajax/verify/email_address_by_otp",type:"POST",data:{action_type:eW,email_address:n,otp_code:t.val()},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){if(!t)return!1;"error"==t.status&&e(".od-verification-code-message").length>0&&(e(".od-verification-code-message").html(""),e(".od-verification-code-message").append('<div class="error">'+t.message+"</div>")),"success"==t.status&&("registration"==eW&&(e(".od-user-registration-form-container").find('input[name="a_c_t_s"]').val(t.a_c_s),eX()),"reset_passwd"==eW&&(e(".od-pass-reset-form-container").find('input[name="p_r_s"]').val(t.a_c_s),eU())),o&&(o.css({"pointer-events":""}),o.on("click",e9)),setTimeout(()=>{eH()},7e3)},error:function(){}})},e6=function(){var t=e(this),a=t.parents(".od-step-process-fields").find("input[type='tel']");eQ(t.parents(".od-step-process-fields").find("#country_code").val(),a.val(),t,"first_event")},e2=function(t){t.preventDefault();var a=e(".od-send-new-mobile-verify-code a");let o=null,n=null;"registration"==eW&&(o=v.mobile_code,n=v.mobile_number),"reset_passwd"==eW&&(o=b.mobile_code,n=b.mobile_number),eQ(o,n,a,"resend_event")},eJ=function(){var t=e(this).parents(".od-step-process-fields").find('input[name="verification_code"]');eY(t,e(this))},eQ=function(t,o,n,i){n.css({"pointer-events":"none"}),"first_event"==i&&n.off("click",e6),"resend_event"==i&&n.off("click",e2);let s="";"registration"==eW&&e(".od-user-registration-form-container").find('input[name="a_c_t"]').length>0&&(s=e(".od-user-registration-form-container").find('input[name="a_c_t"]').val()),"reset_passwd"==eW&&e(".od-pass-reset-form-container").find('input[name="p_r_t"]').length>0&&(s=e(".od-pass-reset-form-container").find('input[name="p_r_t"]').val()),e.ajax({url:a.base_url+"/ajax/verify/mobile_number",type:"POST",data:{action_type:eW,country_code:t,mobile_number:o,type:s},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){if(!t)return!1;"registration"==eW&&e3(),"reset_passwd"==eW&&e4(),"error"==t.status&&e(".od-verification-message .od-verification-message-holder").length>0&&(e(".od-verification-message .od-verification-message-holder").html(""),e(".od-verification-message .od-verification-message-holder").append('<div class="error">'+t.message+"</div>")),"success"==t.status&&("registration"==eW&&(e(".od-user-registration-form-container").find('input[name="a_c_t_s"]').val(t.a_c_s),"first_event"==i&&(eA(),eX({type:"success",msg:t.message}))),"reset_passwd"==eW&&(e(".od-pass-reset-form-container").find('input[name="p_r_s"]').val(t.a_c_s),"first_event"==i&&(eK(),eU({type:"success",msg:t.message}))),"resend_event"==i&&e(".od-verification-message .od-verification-message-holder").length>0&&(e(".od-verification-message .od-verification-message-holder").html(""),e(".od-verification-message .od-verification-message-holder").append('<div class="success">'+t.message+"</div>"))),"already_verified"==t.status&&("registration"==eW&&(e(".od-user-registration-form-container").find('input[name="a_c_t_s"]').val(t.a_c_s),eA(),eX()),"reset_passwd"==eW&&(e(".od-pass-reset-form-container").find('input[name="p_r_s"]').val(t.a_c_s),eK(),eU())),n&&(n.css({"pointer-events":""}),"first_event"==i&&n.on("click",e6),"resend_event"==i&&n.on("click",e2)),setTimeout(()=>{eH()},7e3)},error:function(){}})},eY=function(t,o){o.css({"pointer-events":"none"}),o.off("click",eJ);let n=null,i=null;"registration"==eW&&(n=v.mobile_code,i=v.mobile_number),"reset_passwd"==eW&&(n=b.mobile_code,i=b.mobile_number),e.ajax({url:a.base_url+"/ajax/verify/mobile_number_by_otp",type:"POST",data:{action_type:eW,country_mobile_code:n,mobile_number:i,otp_code:t.val(),type:o.data("c_t")},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){if(!t)return!1;"error"==t.status&&e(".od-verification-code-message").length>0&&(e(".od-verification-code-message").html(""),e(".od-verification-code-message").append('<div class="error">'+t.message+"</div>")),"success"==t.status&&(t.hasOwnProperty("type")&&"registration"==eW&&("email"==t.type?(e(".od-user-registration-form-container").find('input[name="a_c_t_s"]').val(t.a_c_s),eX()):eZ()),"reset_passwd"==eW&&(e(".od-pass-reset-form-container").find('input[name="p_r_s"]').val(t.a_c_s),eU())),o&&(o.css({"pointer-events":""}),o.on("click",eJ)),setTimeout(()=>{eH()},7e3)},error:function(){}})},eZ=()=>{eA(),e(this).css({"pointer-events":"none"}),e(this).off("click",eZ),e.ajax({url:a.base_url+"/ajax/do_account_registration_process",type:"POST",data:v,dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){if(!t)return!1;"error"==t.status&&(e(".od-reg-error-message").length>0&&(e(".od-reg-error-message").html(""),e(".od-reg-error-message").append(`<div class="error">${t.message}</div>`)),setTimeout(()=>{eH()},7e3)),"success"==t.status&&(""!=t.redirect_url?window.location.href=t.redirect_url:(e(".od-user-registration-form-container").find('input[name="a_c_t_s"]').val(t.a_c_s),eX()))},error:function(){}})},te=()=>{eK(),e(this).css({"pointer-events":"none"}),e(this).off("click",te),e.ajax({url:a.base_url+"/ajax/do_reset_passwd_process",type:"POST",data:b,dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){if(!t)return!1;"error"==t.status&&(e(".od-reg-error-message").length>0&&(e(".od-reg-error-message").html(""),e(".od-reg-error-message").append(`<div class="error">${t.message}</div>`)),setTimeout(()=>{eH()},7e3)),"success"==t.status&&(e(".od-pass-reset-form-container").find('input[name="p_r_s"]').val(t.a_c_s),eU())},error:function(){}})};let tt=()=>{e(".od-count").length>0&&e(".od-count").each(function(){e(this).prop("Counter",0).animate({Counter:e(this).text()},{duration:4e3,easing:"swing",step:function(t){t=Number(Math.ceil(t)).toLocaleString("en"),e(this).text(t)}})})};setTimeout(()=>{e("#page_type").length>0&&"home"==e("#page_type").val()&&e.ajax({url:a.base_url+"/ajax/get_home_data",type:"GET",data:{},dataType:"json",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){if(!t)return!1;if("success"==t.status){let a=parseInt(t.data.total_success_story);e(".od-total-profiles").html(t.data.total_profiles),e(".od-total-men-profiles").html(t.data.total_men_profiles),e(".od-total-female-profiles").html(t.data.total_female_profiles),e(".od-total-success-stories").html(a),a>100&&e(".od-total-success-stories").parent().append("<span>+</span>"),tt()}},error:function(){}})},100)}(jQuery);
